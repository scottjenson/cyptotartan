<html>
<head>
	<title>Tartan</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name = "viewport" content = "user-scalable=no, width=320">

<style>
body {
	margin: 20;
} 
#canvas {
	border: 1px solid black;
}
</style>
  <script type="application/javascript">  
var palettes = [
	['#FE938C', '#E6B89C', '#EAD2AC', '#9CAFB7'],
	['#FF4E00', '#8EA604', '#F5BB00', '#EC9F05'],
	['#011627', '#2EC4B6', '#E71D36', '#FF9F1C'],
	['#F0B67F', '#FE5F55', '#D6D1B1', '#C7EFCF'],
	['#028090', '#00A896', '#02C39A', '#F0F3BD'],
	['#1BE7FF', '#6EEB83', '#E4FF1A', '#E8AA14'],
	['#CBE896', '#AAC0AA', '#FCDFA6', '#A18276'],
	['#D3F8E2', '#F694C1', '#EDE7B1', '#A9DEF9'],
	['#E3B505', '#95190C', '#610345', '#107E7D'],
	[],
	[],
	[],
	[],
	[],
	[],
	[],
];
var palette;
var pIndex = 0;

function setColor(context) {
	var color = palette[Math.floor(Math.random()*4)];
	pIndex++;
	pIndex = (pIndex>=4)? 0 : pIndex;
	
	context.strokeStyle = color;
}

function setOpacity(context) {
	var opac = (Math.floor(Math.random()*70)+30)/100;
	context.globalAlpha = opac;
}

function init(){
	var cells = 4;
	var cellw = 320/cells;

	palette = palettes[Math.floor(Math.random()*9)];
	pIndex = 0;
	var c=document.getElementById("canvas");
	var ctx=c.getContext("2d");
	for (i=0; i<cells; i++) {
		ctx.beginPath();
		var w = Math.floor(Math.random()*cellw*.9) + (cellw *.1);
		var x= i*cellw+(w/2);
		ctx.moveTo(x,0);
		ctx.lineWidth=w;
		ctx.lineTo(x,320);
		ctx.closePath();
		setColor(ctx);
		setOpacity(ctx);
		ctx.stroke();
	}
	for (j=0; j<cells; j++) {
		ctx.beginPath();
		var w = Math.floor(Math.random()*cellw*.9) + (cellw *.1);
		var y= j*cellw+(w/2);
		ctx.moveTo(0,y);
		ctx.lineTo(320,y);
		ctx.closePath();
		ctx.lineWidth=w;
		setColor(ctx);
		setOpacity(ctx);
		ctx.stroke();
	}
}

  </script>  

</head>

<body onload="init();">
<canvas id="canvas" width=320 height=320></canvas>
</body>

</html>
